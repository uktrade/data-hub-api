# Generated by Django 3.2.23 on 2023-11-27 15:19

from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import uuid


class Migration(migrations.Migration):

    dependencies = [
        ('export_win', '0015_add_hvc'),
    ]

    operations = [
        migrations.CreateModel(
            name='Win',
            fields=[
                ('created_on', models.DateTimeField(auto_now_add=True, db_index=True, null=True)),
                ('modified_on', models.DateTimeField(auto_now=True, null=True)),
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('customer_name', models.CharField(max_length=128, verbose_name='Contact name')),
                ('customer_job_title', models.CharField(max_length=128, verbose_name='Job title')),
                ('customer_email_address', models.EmailField(max_length=254, verbose_name='Contact email')),
                ('business_type', models.CharField(max_length=128, verbose_name='What kind of business deal was this win?')),
                ('description', models.TextField(verbose_name='Summarise the support provided to help achieve this win')),
                ('name_of_customer', models.CharField(max_length=128, verbose_name='Overseas customer')),
                ('name_of_export', models.CharField(max_length=128, verbose_name='What are the goods or services?')),
                ('date', models.DateField(verbose_name='Date business won [MM/YY]')),
                ('total_expected_export_value', models.BigIntegerField()),
                ('total_expected_non_export_value', models.BigIntegerField()),
                ('total_expected_odi_value', models.BigIntegerField()),
                ('is_prosperity_fund_related', models.BooleanField(default=False, verbose_name='Prosperity Fund')),
                ('has_hvo_specialist_involvement', models.BooleanField(default=False, verbose_name='An HVO specialist was involved')),
                ('is_e_exported', models.BooleanField(default=False, verbose_name='E-exporting programme')),
                ('is_personally_confirmed', models.BooleanField(verbose_name='I confirm that this information is complete and accurate')),
                ('is_line_manager_confirmed', models.BooleanField(verbose_name='My line manager has confirmed the decision to record this win')),
                ('lead_officer_name', models.CharField(help_text='This is the name that will be included in the email to the customer', max_length=128, verbose_name='Lead officer name')),
                ('lead_officer_email_address', models.EmailField(blank=True, max_length=254, verbose_name='Lead officer email address')),
                ('other_official_email_address', models.EmailField(blank=True, max_length=254, verbose_name='Secondary email address')),
                ('line_manager_name', models.CharField(max_length=128, verbose_name='Line manager')),
                ('location', models.CharField(blank=True, max_length=128)),
                ('complete', models.BooleanField()),
                ('audit', models.TextField(blank=True, default='')),
                ('match_id', models.PositiveIntegerField(blank=True, null=True)),
                ('company_name', models.CharField(max_length=128, verbose_name='Organisation or company name')),
                ('cdms_reference', models.CharField(max_length=128, verbose_name='Data Hub (Companies House) or CDMS reference number')),
                ('adviser', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='wins', to=settings.AUTH_USER_MODEL)),
                ('associated_programme', models.ManyToManyField(blank=True, to='export_win.AssociatedProgramme')),
                ('business_potential', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='wins', to='export_win.businesspotential', verbose_name='Medium-sized and high potential companies')),
                ('company', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='wins', to='company.company')),
                ('country', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='wins', to='metadata.country')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('customer_location', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='wins', to='metadata.ukregion', verbose_name='HQ location')),
                ('export_experience', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='wins', to='export_win.experiencecategories')),
                ('goods_vs_services', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='wins', to='export_win.expectedvaluerelation', verbose_name='Does the expected value relate to')),
                ('hq_team', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='wins', to='export_win.hqteamregionorpost', verbose_name='HQ team, Region or Post')),
                ('hvc', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='wins', to='export_win.hvc', verbose_name='HVC code, if applicable')),
                ('hvo_programme', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='wins', to='export_win.hvoprogrammes', verbose_name='HVO Programme, if applicable')),
                ('lead_officer', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='lead_officer_wins', to=settings.AUTH_USER_MODEL)),
                ('line_manager', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='line_manager_wins', to=settings.AUTH_USER_MODEL)),
                ('modified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('sector', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='wins', to='metadata.sector')),
                ('team_type', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='wins', to='export_win.teamtype')),
                ('type', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.PROTECT, related_name='wins', to='export_win.wintype', verbose_name='Type of win')),
                ('type_of_support', models.ManyToManyField(to='export_win.SupportType')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='WinAdviser',
            fields=[
                ('created_on', models.DateTimeField(auto_now_add=True, db_index=True, null=True)),
                ('modified_on', models.DateTimeField(auto_now=True, null=True)),
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('location', models.CharField(blank=True, max_length=128, verbose_name='Location (if applicable)')),
                ('name', models.CharField(max_length=128)),
                ('adviser', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='win_advisers', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('hq_team', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='win_advisers', to='export_win.hqteamregionorpost', verbose_name='HQ team, Region or Post')),
                ('modified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('team_type', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='win_advisers', to='export_win.teamtype')),
                ('win', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='advisers', to='export_win.win')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='CustomerResponse',
            fields=[
                ('created_on', models.DateTimeField(auto_now_add=True, db_index=True, null=True)),
                ('modified_on', models.DateTimeField(auto_now=True, null=True)),
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('involved_state_enterprise', models.BooleanField(default=False, verbose_name='The win involved a foreign government or state-owned enterprise (eg as an intermediary or facilitator)')),
                ('interventions_were_prerequisite', models.BooleanField(default=False, verbose_name='Our support was a prerequisite to generate this export value')),
                ('support_improved_speed', models.BooleanField(default=False, verbose_name='Our support helped you achieve this win more quickly')),
                ('has_enabled_expansion_into_new_market', models.BooleanField(default=False, verbose_name='It enabled you to expand into a new market')),
                ('has_enabled_expansion_into_existing_market', models.BooleanField(default=False, verbose_name='It enabled you to maintain or expand in an existing market')),
                ('has_increased_exports_as_percent_of_turnover', models.BooleanField(default=False, verbose_name='It enabled you to increase exports as a proportion of your turnover')),
                ('company_was_at_risk_of_not_exporting', models.BooleanField(default=False, verbose_name="If you hadn't achieved this win, your company might have stopped exporting")),
                ('has_explicit_export_plans', models.BooleanField(default=False, verbose_name='Apart from this win, you already have specific plans to export in the next 12 months')),
                ('agree_with_win', models.BooleanField(null=True, verbose_name='Please confirm these details are correct')),
                ('case_study_willing', models.BooleanField(verbose_name='Would you be willing for DBT/Exporting is GREAT to feature your success in marketing materials?')),
                ('comments', models.TextField(blank=True, default='', verbose_name='Other comments or changes to the win details')),
                ('name', models.CharField(max_length=256, verbose_name='Your name')),
                ('other_marketing_source', models.CharField(blank=True, default='', max_length=256, verbose_name='Other marketing source')),
                ('access_to_contacts', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='access_to_contacts_customer_responses', to='export_win.rating', verbose_name='Gaining access to contacts?')),
                ('access_to_information', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='access_to_information_customer_responses', to='export_win.rating', verbose_name='Getting information or improved understanding of the country?')),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('developed_relationships', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='developed_relationships_customer_responses', to='export_win.rating', verbose_name='Developing or nurturing critical relationships?')),
                ('expected_portion_without_help', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='customer_responses', to='export_win.withoutoursupport', verbose_name='What value do you estimate you would have achieved without our support?')),
                ('gained_confidence', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='gained_confidence_customer_responses', to='export_win.rating', verbose_name='Having confidence to explore or expand in the country?')),
                ('improved_profile', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='improved_profile_customer_responses', to='export_win.rating', verbose_name='Improving your profile or credibility in the country?')),
                ('last_export', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='customer_responses', to='export_win.experience', verbose_name='Apart from this win, when did your company last export goods or services?')),
                ('marketing_source', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='customer_responses', to='export_win.marketingsource', verbose_name='How did you first hear about DBT (or its predecessor, DIT)?')),
                ('modified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('our_support', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='our_support_customer_responses', to='export_win.rating', verbose_name='Securing the win overall?')),
                ('overcame_problem', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='overcame_problem_customer_responses', to='export_win.rating', verbose_name='Overcoming a problem in the country (eg legal, regulatory, commercial)?')),
                ('win', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='confirmation', to='export_win.win')),
            ],
            options={
                'abstract': False,
            },
        ),
        migrations.CreateModel(
            name='Breakdown',
            fields=[
                ('created_on', models.DateTimeField(auto_now_add=True, db_index=True, null=True)),
                ('modified_on', models.DateTimeField(auto_now=True, null=True)),
                ('id', models.UUIDField(default=uuid.uuid4, primary_key=True, serialize=False)),
                ('year', models.PositiveIntegerField()),
                ('value', models.BigIntegerField()),
                ('created_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('modified_by', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('type', models.ForeignKey(on_delete=django.db.models.deletion.PROTECT, related_name='breakdowns', to='export_win.breakdowntype')),
                ('win', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='breakdowns', to='export_win.win')),
            ],
            options={
                'abstract': False,
            },
        ),
    ]
